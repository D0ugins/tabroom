<%args>
	$person
	$session
	$judge_id => undef
</%args>
<%init>

	my $judge = Tab::Judge->retrieve($judge_id);
	$m->abort unless ($judge);

	unless ($judge->person->id == $person->id) {

		$m->comp('/funclib/abort.mas',
			message => "You can only fill out paradigms for your own judge record.  Go back and try again."
		);

	} else {

		my $tag = $judge->category->setting("paradigm_form");

		my $msg = $m->comp(
			"/funclib/questionnaire_save.mas",
			judge    => $judge,
			tag      => $tag,
			nats     => 1,
			response => \%ARGS
		);

		$m->redirect("paradigm_form.mhtml?judge_id=".$judge_id."&msg=$msg");

	}

</%init>
