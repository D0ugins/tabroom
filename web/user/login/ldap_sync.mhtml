<%args>
	$person    => undef
	$target_id => undef
</%args>
<%init>

    $m->clear_buffer();    
    $r->content_type('application/json');    

	my $login = eval { 
		return Tab::Login->retrieve($target_id);
	};

	if ($login) { 
		$m->comp("/funclib/ldap_person.mas", login => $login, reset => 1);
	}

	my $msg = "Your account has been re-synced with external services";

    $m->print('{ 
        "error": false, 
        "message": "'.$msg.'"
    }');

    $m->abort();

</%init>
