<%args>
	$tourn
	$category_id
	$exchange            => 0
	$track_judge_hires   => 0
	$hired_fee           => 0
	$hired_jpool         => 0
	$hired_rounds        => 0
	$uncovered_entry_fee => 0
	$auto_conflict_hires => 0
	$round_hire_fee      => 0
</%args>
<%init>

	my $category = Tab::Category->retrieve($category_id);

	#Throw an error if both uncovered entry method and missing judge method are set

	if ($uncovered_entry_fee && $hired_fee) { 
		my $err = "You can only use one Hiring Method for judges, not both.";
		$m->redirect("hires.mhtml?category_id=$category_id&err=$err");
	}

	$category->setting("track_judge_hires", $track_judge_hires);
	$category->setting("exchange", $exchange);
	$category->setting("hired_jpool", $hired_jpool);
	$category->setting("hired_rounds", $hired_rounds);
	$category->setting("hired_fee", $hired_fee);
	$category->setting("uncovered_entry_fee", $uncovered_entry_fee);
	$category->setting("auto_conflict_hires", $auto_conflict_hires);
	$category->setting("round_hire_fee", $round_hire_fee);

	my $msg = "Judge category information saved";

	$m->redirect("hires.mhtml?category_id=$category_id&msg=$msg");

</%init>
