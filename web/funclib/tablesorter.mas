<%args>
	$table
</%args>

	<script type="text/javascript">

        $(document).ready(function() { 

			$("#<% $table %>").tablesorter({
				cssAsc    : "sortup",
				cssDesc   : "sortdown",
				cssHeader : "sortable",
				widgets   : ['zebra', 'columns', 'stickyHeaders', 'print', 'output'],
				widgetOptions : {
					columns          : [ "primary", "secondary", "tertiary" ],
					print_rows       : "f",
					print_columns    : "v",
					print_now        : true,
					print_styleSheet : "/lib/css/print.css",
					output_saveRows  : "visible",
					output_delivery  : "download"
				}
			});

%			unless ($ARGS{"nobuttons"}) { 

				var printButtonHTML = "<button id='print_<% $table %>' class='printbutton buttonwhite redtext fa fa-sm fa-print marleft'>";

				var outputButtonHTML = "<button id='output_<% $table %>' class='outputbutton buttonwhite greentext fa fa-sm fa-file-excel-o marleft'>";

				if ( $("#<% $table %>_buttonarea").length) { 
					$("#<% $table %>_buttonarea").append(printButtonHTML);
					$("#<% $table %>_buttonarea").append(outputButtonHTML);
				} else { 

					var beginButtonRow = "<div class='full nospace rightalign'>";
					var endButtonRow = "</div>";
			
					$("#<% $table %>")
						.before(beginButtonRow+outputButtonHTML+printButtonHTML+endButtonRow);

				}

				$("#content").on('click', '#print_<% $table %>', function(){
					$("#<% $table %>").trigger("printTable");
				});

				$("#content").on('click', '#output_<% $table %>', function(){
					$("#<% $table %>").trigger("outputTable");
				});

%			}

		}); 



	</script>

