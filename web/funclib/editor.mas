<%args>
	$half   => undef
	$height => undef
</%args>

%	my $height_line = "height:   $height" if $height;

%	if ($half) {

		<script type="text/javascript">
			tinyMCE.init({
				mode               : "specific_textareas",
				editor_selector    : "half",
				toolbar            : [ "undo redo | bold italic | link image | alignleft aligncenter alignright | format removeformat emoticons | link styleselect" ],
				width              : "98%",
				statusbar          : false,
				menubar            : false,
				formats            : false,
				browser_spellcheck : true,
				relative_urls      : false,
				remove_script_host : false,
				branding           : false,
				external_plugins : {
					"emoticons" : "/lib/javascript/tinymce/plugins/emoticons/plugin.min.js",
%					unless ($ARGS{'nosave'}) {
						"autosave"  : "/lib/javascript/tinymce/plugins/autosave/plugin.min.js",
%					}
					"autolink"  : "/lib/javascript/tinymce/plugins/autolink/plugin.min.js",
					"link"      : "/lib/javascript/tinymce/plugins/link/plugin.min.js",
				},
				document_base_url  : "https://www.tabroom.com/"
				<% $height_line %>
			});

			tinyMCE.init({
				mode             : "specific_textareas",
				editor_selector  : "full",
				width            : "98%",
				external_plugins : {
					"emoticons"  : "/lib/javascript/tinymce/plugins/emoticons/plugin.min.js",
%					unless ($ARGS{'nosave'}) {
						"autosave"  : "/lib/javascript/tinymce/plugins/autosave/plugin.min.js",
%					}
					"autolink"  : "/lib/javascript/tinymce/plugins/autolink/plugin.min.js",
					"link"      : "/lib/javascript/tinymce/plugins/link/plugin.min.js",
				},
				toolbar                         : [ "undo redo | bold italic strikethrough | alignleft aligncenter alignright | bullist numlist outdent indent | removeformat emoticons | link " ],
				statusbar                       : false,
				theme                           : "modern",
				theme_advanced_toolbar_location : "top",
				menubar                         : false,
				browser_spellcheck              : true,
				relative_urls                   : false,
				remove_script_host              : false,
				branding                        : false,
				document_base_url               : "https://www.tabroom.com/"
				<% $height_line %>
			});

			tinyMCE.init({
				mode             : "specific_textareas",
				editor_selector  : "tall",
				width            : "98%",
				external_plugins : {
					"emoticons"  : "/lib/javascript/tinymce/plugins/emoticons/plugin.min.js",
%					unless ($ARGS{'nosave'}) {
						"autosave"  : "/lib/javascript/tinymce/plugins/autosave/plugin.min.js",
%					}
					"autolink"  : "/lib/javascript/tinymce/plugins/autolink/plugin.min.js",
					"link"      : "/lib/javascript/tinymce/plugins/link/plugin.min.js",
				},
				toolbar                         : [ "undo redo | bold italic strikethrough | alignleft aligncenter alignright | bullist numlist outdent indent | removeformat emoticons | link " ],
				statusbar                       : false,
				theme                           : "modern",
				theme_advanced_toolbar_location : "top",
				menubar                         : false,
				browser_spellcheck              : true,
				relative_urls                   : false,
				remove_script_host              : false,
				branding                        : false,
				document_base_url               : "https://www.tabroom.com/",
				height                          : "512"
			});

		</script>

%	} else {

		<script type="text/javascript">
			tinyMCE.init({
				mode                            : "textareas",
				external_plugins                : {
					"emoticons" : "/lib/javascript/tinymce/plugins/emoticons/plugin.min.js",
%					unless ($ARGS{'nosave'}) {
						"autosave"  : "/lib/javascript/tinymce/plugins/autosave/plugin.min.js",
%					}
					"autolink"  : "/lib/javascript/tinymce/plugins/autolink/plugin.min.js",
					"link"      : "/lib/javascript/tinymce/plugins/link/plugin.min.js",
				},
				toolbar                         : [ "undo redo | bold italic strikethrough | alignleft aligncenter alignright | bullist numlist outdent indent | removeformat emoticons | link styleselect" ],
				statusbar                       : false,
				theme                           : "modern",
				theme_advanced_toolbar_location : "top",
				menubar                         : false,
				browser_spellcheck              : true,
				relative_urls                   : false,
				remove_script_host              : false,
				branding                        : false,
				document_base_url               : "https://www.tabroom.com/"
				<% $height_line %>
			});

	    </script>
%	}
