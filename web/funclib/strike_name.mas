<%args>
	$strike
</%args>
<%init>

	my $tz = $strike->tourn->tz if $strike->tourn;
	$tz = "UTC" unless $tz;

	my $type = $strike->type;

	my $frame = '<span class="threetenths semibold">';
	my $sframe = '<span class="seventenths nowrap nospace">';

	if ($type eq "elim") { 
		return $frame."No prelims </span> $sframe"
		.$strike->event->name."</span>";
	}

	if ($strike->registrant) { 

		if ($type eq "event") { 

			return $frame . "No Rounds</span> $sframe "
				.$strike->event->name."</span>";

		} elsif ($type eq "school") { 

			return $frame . "School</span> $sframe "
				.$strike->school->short_name."</span>";

		} elsif ($type eq "entry") { 

			return $frame . "Entry</span> $sframe "
				.$strike->entry->event->abbr." "
				.$strike->entry->code." "
				.$strike->entry->name."</span>";

		} elsif ($type eq "region") {

			return $frame . "Region</span> $sframe "
				.$strike->region->name." (".$strike->region->code.")"."</span>";

		} elsif ($strike->entry && $type eq "conflict") { 

			return $frame . "Conflict</span> $sframe "
				.$strike->entry->event->abbr." "
				.$strike->entry->code." "
				.$strike->entry->school->short_name ."</span>";

		} elsif ($strike->school && $type eq "conflict") { 

			return $frame . "Conflict</span> $sframe "
				.$strike->school->short_name."</span>";
		}

	} else { 

		if ($type eq "event") {

			return $frame . "Event (Tab)e</span> $sframe "
				.$strike->event->name."</span>";

		} elsif ($type eq "school") {

			return $frame . "School (Tab)</span> $sframe "
				.$strike->school->short_name."</span>";

		} elsif ($type eq "entry") {

			return $frame . "Entry (Tab)</span> $sframe "
				.$strike->entry->event->abbr
				." ".$strike->entry->code
				." ".$strike->entry->school->short_name."</span>";

		} elsif ($type eq "region") {

			return $frame . "Region (Tab)</span> $sframe "
				.$strike->region->name
				." (".$strike->region->code.")"."</span>";

		} elsif ($type eq "district") { 

			return $frame . "District (Tab)</span> $sframe "
				.$strike->district->name
				." (".$strike->district->code.")"."</span>";
		}
	}


	if ($type eq "time" && $strike->start->day != $strike->end->day) { 
		return $frame." Timeblock</span> $sframe"
			. Tab::niceshortdayt($strike->start->set_time_zone($tz))
			." until ".  Tab::niceshortdayt($strike->end->set_time_zone($tz))."</span>";
	}

	if ($strike->type eq "time" && $strike->start->day == $strike->end->day) { 
		return $frame." Timeblock</span> $sframe"
			.Tab::niceshortdayt($strike->start->set_time_zone($tz))
			." until ".  Tab::nicetime($strike->end->set_time_zone($tz))."</span>";
	}

	return;

</%init>
