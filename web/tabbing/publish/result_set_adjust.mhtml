<%args>
	$tourn
	$person
	$person_settings
	$result_set_id => undef
</%args>
<%init>

	if ($result_set_id) { 

		my $result_set = Tab::ResultSet->retrieve($result_set_id);

		if ($result_set) { 

			foreach my $result ($result_set->results) { 

				my $value = $ARGS{$result->id};

				my $place = $result->values(
					tag => "Place"
				)->first;

				if ($place) { 
					$place->value($value);
					$place->update();
				}

				$result->rank($value);
				$result->update();

			}
		}
	}

	my $msg = "Result set adjusted";

	$m->redirect("display.mhtml?result_set_id=".$result_set_id."&msg=$msg");

</%init>
